{"version":3,"sources":["webpack://RecipeApp/./src/domDisplay.js","webpack://RecipeApp/./src/recipe.js","webpack://RecipeApp/./src/services.js","webpack://RecipeApp/webpack/bootstrap","webpack://RecipeApp/webpack/runtime/define property getters","webpack://RecipeApp/webpack/runtime/hasOwnProperty shorthand","webpack://RecipeApp/webpack/runtime/make namespace object","webpack://RecipeApp/webpack/startup"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACO;AACP;AACA,wC;AACA;AACA;AACA;;AAEA;AACO;AACP;AACA,uC;AACA;AACA;AACA;AACA;AACO;AACP;AACA,4D;AACA;AACA;;;;;;;;;;;;;;;;;ACxDa;AAQU;;;AAWE;;;AAGzB;AACA;AACA;AACA;;AAEA;;;AAGA,wDAAU;AACV;AACA,EAAE,4DAAY;AACd,EAAE,4DAAY;AACd;AACA,CAAC;AACD;AACA,EAAE,2DAAW;AACb,EAAE,4DAAY;AACd;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA,MAAM,yDAAS;AACf,GAAG;;AAEH;AACA;AACA;AACA;;;AAGA,IAAI,0DAAY;AAChB;AACA,MAAM,4DAAY;AAClB,MAAM,4DAAY;AAClB;AACA;AACA,KAAK;AACL;AACA,MAAM,yDAAS;AACf;AACA,KAAK;AACL,GAAG;AACH;;;AAGA;;AAEA;AACA,MAAM,iEAAiB;AACvB;AACA,KAAK;;;AAGL;;AAEA;AACA;AACA;AACA;;AAEA,UAAU,uDAAS;AACnB;AACA,YAAY,sEAAsB;AAClC;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX,OAAO;AACP;;;AAGA;AACA;;AAEA;;AAEA,MAAM,qEAAqB;AAC3B;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA,EAAE,sEAAsB;;AAExB;AACA;AACA,IAAI,2DAAa;AACjB;AACA,MAAM,qEAAqB;AAC3B;AACA;AACA;AACA,6F;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA,KAAK,sEAAsB;AAC3B,IAAI,4DAAY;AAChB,GAAG;;AAEH;AACA;AACA,IAAI,4DAAY;AAChB,GAAG;;AAEH;AACA;AACA,IAAI,4DAAY;AAChB,GAAG,E;AACH,E;;;AAGA;;AAEA;AACA;AACA,MAAM,oDAAM;AACZ;AACA,QAAQ,2DAAW;AACnB,QAAQ,4DAAY;AACpB,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL,G;;AAEA;;AAEA;;AAEA;AACA;AACA,gGAAgG,MAAM;AACtG,qDAAqD,MAAM,IAAI,aAAa,4DAA4D,MAAM,IAAI,cAAc;AAChK;AACA;AACA;;AAEA,KAAK;;AAEL;AACA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnNO;;AAEP;AACA;AACA,GAAG;AACH;AACA,2BAA2B,yBAAyB;AACpD,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGO;AACP;AACA;AACA,SAAS;AACT;AACA,iCAAiC,yBAAyB;AAC1D,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;;AAGO;AACP,6BAA6B,MAAM;AACnC;AACA,mBAAmB,mCAAmC;AACtD,OAAO;AACP;AACA,iCAAiC,yBAAyB;AAC1D,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,2BAA2B,yBAAyB;AACpD,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;AAMO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL,0BAA0B,WAAW;AACrC,GAAG;AACH;AACA,2BAA2B,yBAAyB;AACpD,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGO;;AAEP;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,2BAA2B,yBAAyB;AACpD,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;UCxHA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,sF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"recipe.js","sourcesContent":["const loginSection =  document.querySelector(\".login-panel\");\r\nconst homePage = document.querySelector(\".recipe-home-page\");\r\nconst recipeDisplayPage = document.querySelector(\".recipe-display-section\");\r\nconst newRecipePage = document.querySelector(\".add-new-recipe-details\");\r\n\r\nconst logoutButton = document.querySelector(\".logout\");\r\nconst loginButton = document.querySelector(\"#homepage-login-button\");\r\n\r\n\r\n\r\nexport const  enableLogin= function(){\r\n  loginButton.classList.add('show');\r\n  document.querySelector(\".logout\").style.display = 'none';\r\n  document.querySelector(\".add-recipe\").style.display = 'none';\r\n}\r\n\r\nexport const  disableLogin =function(){\r\n  loginButton.classList.remove('show');\r\n  document.querySelector(\".logout\").style.display = 'block';\r\n  document.querySelector(\".add-recipe\").style.display = 'block';\r\n}\r\n//Displays the login Page section \r\nexport const loginPage = function (){\r\n  loginSection.classList.add('show');\r\n  homePage.classList.remove('show');\r\n  newRecipePage.classList.remove('show');\r\n  recipeDisplayPage.classList.remove('show');\r\n}\r\n//Displays the home page section\r\nexport const  showHomePage = function(){\r\n  homePage.classList.add('show');\r\n  loginSection.classList.remove('show');\r\n  newRecipePage.classList.remove('show');\r\n  recipeDisplayPage.classList.remove('show');\r\n}\r\n\r\n//Displays the create new recipe page section\r\nexport const showNewRecipePage= function(){\r\n  homePage.classList.remove('show');\r\n  loginSection.classList.remove('show'); \r\n  newRecipePage.classList.add('show');\r\n  recipeDisplayPage.classList.remove('show');\r\n}\r\n\r\n//Displays the recipe details page section\r\nexport const showRecipeDetailsPage= function(){\r\n homePage.classList.remove('show');\r\n loginSection.classList.remove('show'); \r\n newRecipePage.classList.remove('show');\r\n recipeDisplayPage.classList.add('show');\r\n}\r\n//Resets the recipe input values on create new recipe page\r\nexport const  resetNewRecipeElements = function(){\r\n    document.querySelector(\".recipe-input\").value      = '';\r\n    document.querySelector(\".ingredients-text\").value  = ''; \r\n    document.querySelector(\".recipe-steps-text\").value = '';\r\n}\r\n","\"use strict\";\r\nimport {\r\n  performLogin,\r\n  getSession,\r\n  checkLoginStatus,\r\n  addRecipe,\r\n  recipeDetails,\r\n  logout\r\n} from './services.js';\r\n\r\n\r\nimport{\r\n  enableLogin,\r\n  disableLogin,\r\n  loginPage,\r\n  showHomePage,\r\n  showNewRecipePage,\r\n  showRecipeDetailsPage,\r\n  resetNewRecipeElements\r\n} from './domDisplay.js';\r\n\r\n\r\nlet currentUser = '';\r\nconst recipeListContainer = document.querySelector(\".recipe-list\");\r\nconst userInput = document.querySelector(\"#enter-username\");\r\nconst logoutButton = document.querySelector(\".logout\");\r\n\r\nrecipeApp();\r\n\r\n\r\ngetSession()\r\n.then( userInfo => {\r\n  disableLogin();\r\n  showHomePage();\r\n  renderRecipe(userInfo);\r\n})\r\n.catch( err =>{\r\n  enableLogin();\r\n  showHomePage();\r\n  renderRecipe(Object.values(err.userInfo));\r\n});\r\n\r\n\r\nfunction loginError(error){\r\n  document.querySelector(\".login-error\").innerText = error;\r\n}\r\n\r\nfunction genericError(error){\r\n  document.querySelector(\".generic-error\").innerText = error;\r\n}\r\n\r\nfunction recipeEmptyError(error){\r\n  document.querySelector(\".recipe-empty-error\").innerText = error;\r\n}\r\n\r\n\r\nfunction recipeApp(){\r\n  addLogin();\r\n  addNewRecipe();\r\n  showRecipeDetails();\r\n  renderHomePage();\r\n  logouts();\r\n\r\n}\r\n\r\n\r\nfunction addLogin() {\r\n    \r\n  document.querySelector('#homepage-login-button').addEventListener('click',()=>{\r\n      document.querySelector(\".login-error\").innerText = '';\r\n      loginPage();\r\n  });\r\n\r\n  document.querySelector('#login-button').addEventListener('click', () => {\r\n    const usernames = document.querySelector('#enter-username');\r\n    const username = usernames.value;\r\n    userInput.value = '';\r\n\r\n\r\n    performLogin(username)\r\n    .then( userInfo => {\r\n      disableLogin();\r\n      showHomePage();\r\n      currentUser = userInfo[0].username;\r\n      renderRecipe(userInfo[1]);\r\n    })\r\n    .catch( err => {\r\n      loginPage();\r\n      loginError(err.errors);\r\n    });\r\n  });\r\n}\r\n\r\n\r\n function addNewRecipe(){\r\n  \r\n     document.querySelector('.add-recipe').addEventListener('click',()=>{\r\n      showNewRecipePage();\r\n      document.querySelector(\".recipe-empty-error\").innerText = '';\r\n    });\r\n\r\n  \r\n    document.querySelector(\".enter-recipe-button\").addEventListener('click',(e)=>{\r\n\r\n        e.preventDefault();\r\n        const recipeTitle = document.querySelector(\".recipe-input\").value;\r\n        const recipeIngredient = document.querySelector(\".ingredients-text\").value;\r\n        const recipeInstructions = document.querySelector(\".recipe-steps-text\").value;\r\n                \r\n          addRecipe(currentUser,recipeTitle,recipeIngredient,recipeInstructions)\r\n          .then(userInfo =>{\r\n            resetNewRecipeElements();\r\n            renderRecipe(userInfo);\r\n            renderNewRecipeDetaisPage(userInfo);\r\n          })\r\n          .catch(err => {\r\n            recipeEmptyError(err.error);\r\n          });\r\n      });\r\n }\r\n\r\n\r\n//Displays the recipe details page after the recipe is created\r\nfunction renderNewRecipeDetaisPage(userInfo){\r\n\r\n      const currentUserInfo = userInfo[userInfo.length-1];\r\n\r\n      showRecipeDetailsPage();\r\n      document.querySelector(\".recipe-author-text\").innerText = currentUserInfo.author;\r\n      document.querySelector(\".recipe-title-text\").innerText = currentUserInfo.title;\r\n      document.querySelector(\".ingredients-display-text\").innerText = currentUserInfo.ingredient;\r\n      document.querySelector(\".recipe-steps-display-text\").innerText = currentUserInfo.instructions;\r\n    \r\n}\r\n\r\n\r\n function showRecipeDetails(){\r\n\r\n  recipeListContainer.addEventListener('click',(e)=>{\r\n\r\n  const recipeId = e.target.dataset.index;\r\n  resetNewRecipeElements();\r\n\r\n  if(e.target.classList.contains('recipe-list-item')){\r\n    e.preventDefault();\r\n    recipeDetails(recipeId)\r\n    .then( userInfo => {\r\n      showRecipeDetailsPage();\r\n      document.querySelector(\".recipe-author-text\").innerText = userInfo.author;\r\n      document.querySelector(\".recipe-title-text\").innerText = userInfo.title;\r\n      document.querySelector(\".ingredients-display-text\").innerText = userInfo.ingredient;\r\n      document.querySelector(\".recipe-steps-display-text\").innerText = userInfo.instructions; \r\n      })\r\n    .catch( err => {\r\n      genericError(err.error);\r\n        });\r\n      }\r\n    });\r\n\r\n  };\r\n\r\n  //Return to home page logic\r\n function renderHomePage(){\r\n  document.querySelector(\".back-to-homepage\").addEventListener('click',(e)=>{\r\n    e.preventDefault();\r\n     resetNewRecipeElements();\r\n    showHomePage();\r\n  });\r\n\r\n  document.querySelector(\".back-to-homepage-1\").addEventListener('click',(e)=>{\r\n    e.preventDefault();\r\n    showHomePage();\r\n  });\r\n\r\n  document.querySelector(\".back-to-homepage-2\").addEventListener('click',(e)=>{\r\n    e.preventDefault();\r\n    showHomePage();\r\n  });  \r\n }  \r\n\r\n\r\n function logouts(){\r\n  \r\n   logoutButton.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      logout()\r\n      .then( () => {\r\n        enableLogin();\r\n        showHomePage();\r\n      })\r\n      .catch( err =>{\r\n        genericError(err.error);\r\n      });\r\n    });\r\n  } \r\n\r\nfunction renderRecipe( recipes ) {\r\n    \r\n    const recipeContent = recipes.map( (recipe, index) => {\r\n\r\n       return `\r\n        <li>\r\n            <button class=\"recipe-list-item\" title=\"Click To View Recipe Details\" data-index=\"${index}\">\r\n            \t<span class=\"recipe-name\" data-index=\"${index}\">${recipe.title}</span> Prepared By <span class=\"author-name\" data-index=\"${index}\">${recipe.author}</span></span>\r\n           \t</button>\r\n        </li>\r\n        `;\r\n      \r\n    }).join('');\r\n\r\n    recipeListContainer.innerHTML = recipeContent;\r\n  };","export const checkLoginStatus = function() {\r\n  \r\n  return fetch('/session', {\r\n    method: 'GET',\r\n  })\r\n  .catch( () => {\r\n    return Promise.reject({ error: 'network-error' });\r\n   })\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( err => Promise.reject(err) );\r\n  });\r\n};\r\n\r\n\r\nexport const getSession = function(){\r\n    return fetch('/session', {\r\n          method: 'GET',\r\n        })\r\n        .catch( () => {\r\n          return Promise.reject({ error: 'network-error' });\r\n         })\r\n        .then( response => {\r\n          if(response.ok) {\r\n            return response.json();\r\n          }\r\n          return response.json().then( err => Promise.reject(err) );\r\n        });\r\n};\r\n\r\n\r\nexport const recipeDetails = function(index){\r\n     return fetch(`/recipe/${index}`,{\r\n          method: 'GET', \r\n          headers:{\"Content-type\": \"application/json\"},\r\n      })\r\n        .catch( () => {\r\n          return Promise.reject({ error: 'network-error' });\r\n         })\r\n        .then( response => {\r\n          if(response.ok) {\r\n            return response.json();\r\n          }\r\n          return response.json().then( err => Promise.reject(err) );\r\n        });\r\n};\r\n\r\nexport const addRecipe = function( currentUser, recipeTitle, recipeIngredient, recipeInstructions ) {\r\n  \r\n  const newRecipe = {\r\n      title: recipeTitle,\r\n      author: currentUser,\r\n      ingredient: recipeIngredient,\r\n      instructions: recipeInstructions,\r\n  }\r\n\r\n  return fetch('/recipe', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify(newRecipe),\r\n  })\r\n  .catch( () => {\r\n    return Promise.reject({ error: 'network-error' });\r\n   })\r\n  .then( response => {\r\n    \r\n    if (!response.ok) {\r\n        return response.json().then(result => Promise.reject(result));\r\n      }\r\n      return response.json();\r\n  });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const performLogin =\tfunction( username ) {\r\n  return fetch('/session', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify({ username }),\r\n  })\r\n  .catch( () => {\r\n    return Promise.reject({ error: 'network-error' });\r\n   })\r\n  .then( response => {\r\n    \r\n    if (!response.ok) {\r\n        return response.json().then(result => Promise.reject(result));\r\n      }\r\n      return response.json();\r\n  });\r\n};\r\n\r\n\r\nexport const logout = function() {\r\n  \r\n  return fetch('/logout', {\r\n    method: 'DELETE',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n  })\r\n  .catch( () => {\r\n    return Promise.reject({ error: 'network-error' });\r\n   })\r\n  .then( response => {\r\n    \r\n    if (!response.ok) {\r\n        return response.json().then(result => Promise.reject(result));\r\n      }\r\n      return response.json();\r\n  });\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/recipe.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}